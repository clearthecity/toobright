(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00d4e818"],{"02d8":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"safe-to-drive"}},[e.isSafe?n("div",[n("p",[e._v("youâ€™ll be ok for another "),n("span",[e._v(e._s(e.waitUntil))])])]):n("div",[n("p",[e._v(e._s(e.directionWarning))]),n("p",[e._v("or maybe wait about "+e._s(e.waitUntil))])]),n("br"),n("br"),n("p",[n("router-link",{staticClass:"link",attrs:{to:"/about"}},[e._v("about")])],1)])},s=[];const r=9,o=4;var u={name:"SafeToDrive",props:{sunAltitude:Number,sunAzimuth:Number,userLatitude:Number,userLongitude:Number},data(){return{isSafe:!0,waitUntil:""}},mounted:function(){this.sunAltitude>=o&&this.sunAltitude<=r&&(this.isSafe=!1),this.startTimeCalculations()},computed:{directionWarning:function(){return this.sunAzimuth>=45&&this.sunAzimuth<=135?"be careful driving west":"be careful driving east"}},methods:{startTimeCalculations:function(){const e=this.$moment;let t=e();const n=this.$suncalc;n.addTime(r,"morningDangerEnd","eveningDangerBegin"),n.addTime(o,"morningDangerBegin","eveningDangerEnd");let i=n.getTimes(t,this.userLatitude,this.userLongitude),s=this;if(this.isSafe){let r=e().add(1,"d"),o=n.getTimes(r,this.userLatitude,this.userLongitude);this.getTimeToDanger(t,i,o).then(function(e){return e},function(e){console.log(e)}).then(function(e){s.writeWaitMessage(e)})}else this.getTimeToSafety(t,i).then(function(e){return e},function(e){console.log(e)}).then(function(e){s.writeWaitMessage(e)})},getTimeToSafety:function(e,t){return new Promise((n,i)=>{const s=this.$moment;s||i(Error("getTimeToSafety: cannot access moment"));let r=s().hour(6),o=s().hour(12);e.isBetween(r,o)?n(t.morningDangerEnd):n(t.eveningDangerEnd)})},getTimeToDanger:function(e,t,n){return new Promise((i,s)=>{const r=this.$moment;r||s(Error("getTimeToDanger: cannot access moment"));let o=r().hour(16),u=r().hour(23).minute(59),a=r().hour(0),c=r().hour(6);e.isBetween(o,u)||e.isBetween(a,c)?i(n.morningDangerBegin):i(t.eveningDangerBegin)})},writeWaitMessage:function(e){const t=this.$moment;let n=t(e).diff(t(),"minutes");n>90?n=t(e).diff(t(),"hours")+" hours":n+=" minutes",this.waitUntil=n}}},a=u,c=(n("3447"),n("2877")),m=Object(c["a"])(a,i,s,!1,null,"6495d3e4",null);t["default"]=m.exports},3447:function(e,t,n){"use strict";var i=n("5662"),s=n.n(i);s.a},5662:function(e,t,n){}}]);
//# sourceMappingURL=chunk-00d4e818.35e61cce.js.map